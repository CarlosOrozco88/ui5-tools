<mvc:View xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    controllerName="ui5tools.controller.main"
    displayBlock="true"
    width="100%"
    height="100%">
    <Page>
        <customHeader>
            <Toolbar width="100%">
                <content>
                    <ToolbarSpacer />
                    <Title text="{ui5tools>/serverName}" />
                    <ToolbarSpacer />
                </content>
            </Toolbar>
        </customHeader>
        <content>
            <IconTabBar id="iconTabBar" expandable="false" selectedKey="apps" select="selectIconTabbar" applyContentPadding="false" >
                <items>
                    <% if(launchpad) { %>
                        <IconTabFilter icon="sap-icon://sap-ui5"
                            iconColor="Default"
                            iconDensityAware="true"
                            key="launchpad"
                            text="Launchpad">
                            <VBox class="markdown-body">
                                <Title text="Navigating to launchpad..." />
                            </VBox>
                        </IconTabFilter>
                    <% } %>
                    <IconTabFilter count="{= ${ui5tools>/folders}.length }"
                        icon="sap-icon://grid"
                        iconColor="Default"
                        iconDensityAware="true"
                        key="apps"
                        text="Apps">
                        <VBox height="100%" width="100%">
                            <HBox items="{ui5tools>/folders}" wrap="Wrap">
                                <GenericTile class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout" header="{ui5tools>}"
                                    subheader="" press="pressTile">
                                </GenericTile>
                            </HBox>
                        </VBox>
                    </IconTabFilter>
                    <IconTabFilter visible="{= ${ui5tools>/readme}.length > 0 }"
                        icon="sap-icon://document-text"
                        iconColor="Critical"
                        iconDensityAware="true"
                        key="readme"
                        text="Readme">
                        <VBox width="100%" height="100%" class="markdown-body">
                            <core:HTML content="{ui5tools>/readme}" />
                        </VBox>

                    </IconTabFilter>
                    <IconTabFilter visible="{= ${ui5tools>/docs}.length > 0 }"
                        icon="sap-icon://folder-full"
                        iconColor="Critical"
                        iconDensityAware="true"
                        key="docs"
                        text="Docs">
                        <VBox width="100%" height="100%">
                            <% if(showTree) { %>
                                <Tree id="docsTree"
                                    items="{path:'ui5tools>/docs',sorter:{path:'folder',descending:true}}"
                                    itemPress="itemPressTreeDocs"
                                    showSeparators="Inner"
                                    mode="SingleSelectMaster">
                                    <StandardTreeItem title="{ui5tools>name}"
                                        icon="{= ${ui5tools>folder} === 0 ? 'sap-icon://document-text' : 'sap-icon://folder-full' }"
                                        type="{= ${ui5tools>markdown}.length ? 'Navigation' : 'Inactive' }" />
                                </Tree>
                            <% } else { %>  
                                <List id="docsList"
                                    items="{path:'ui5tools>/docs'}"
                                    itemPress="itemPressTreeDocs"
                                    showSeparators="Inner"
                                    mode="SingleSelectMaster">
                                    <StandardListItem title="{ui5tools>name}"
                                        icon="{= ${ui5tools>folder} === 0 ? 'sap-icon://document-text' : 'sap-icon://folder-full' }"
                                        type="{= ${ui5tools>markdown}.length ? 'Navigation' : 'Inactive' }" />
                                </List>
                            <% } %>
                        </VBox>

                    </IconTabFilter>
                </items>
            </IconTabBar>
        </content>
        <footer>
            <Toolbar width="100%">
                <ToolbarSpacer />
                <Link text="ui5-tools"
                    href="https://marketplace.visualstudio.com/items?itemName=carlosorozcojimenez.ui5-tools"
                    target="_blank"
                    />
                <Link text="Github"
                    href="https://github.com/CarlosOrozco88/ui5-tools"
                    target="_blank"
                    />
                <Link text="Issues"
                    href="https://github.com/CarlosOrozco88/ui5-tools/issues"
                    target="_blank"
                    />
                <ToolbarSpacer />
            </Toolbar>
        </footer>
    </Page>
</mvc:View>
